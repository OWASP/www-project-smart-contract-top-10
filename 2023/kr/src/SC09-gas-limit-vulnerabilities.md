## 취약점: 가스 한도 취약점

### 설명:
이더리움 및 기타 블록체인 플랫폼에서 스마트 컨트랙트가 수행하는 모든 작업은 계산 노력의 단위인 일정량의 가스를 소비합니다. 블록 가스 한도는 단일 블록에서 사용할 수 있는 최대 가스 양입니다. 스마트 컨트랙트의 함수가 실행을 완료하는 데 블록 가스 한도보다 더 많은 가스가 필요한 경우 트랜잭션은 실패합니다. 이러한 유형의 취약점은 반복 횟수가 고정되어 있지 않고 임의로 커질 수 있는 배열이나 리스트와 같은 동적 데이터 구조를 반복하는 루프에서 특히 일반적입니다.

### 예시:
```
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract TokenTransfer {
    mapping(address => uint256) public balances;

    function transfer(address _to, uint256 _amount) public {
        require(balances[msg.sender] >= _amount, "Insufficient balance");
        
        for (uint256 i = 0; i < _amount; i++) {  // 루프가 _amount번 반복되며, 이는 매우 비효율적이고 _amount가 너무 크면 잠재적으로 블록 가스 한도를 초과할 수 있음
            balances[msg.sender]--; 
            balances[_to]++; 
        }
    }
}
```
### 영향:
- 가스 한도 문제에 취약한 함수는 실행 불가능해져 자금이 잠기거나 컨트랙트 상태가 동결될 수 있습니다. 이러한 함수가 가스 한도 초과로 인해 완료되지 못하면, 트랜잭션과 관련된 모든 자금에 접근할 수 없게 되어 컨트랙트 내에 효과적으로 잠기게 됩니다.

### 해결 방안:
- 함수는 사용자가 루프 내에서 대량의 데이터를 순회하는 데 사용되는 가변 길이를 제어할 수 없도록 검증해야 합니다. 생략할 수 없는 경우 코드 로직에 따라 길이에 제한을 두어야 합니다.
- Solidity에서 루프를 사용할 때마다 개발자는 루프 내에서 발생하는 작업에 특별한 주의를 기울여 트랜잭션이 과도한 가스를 소비하지 않고 가스 한도를 초과하지 않도록 해야 합니다.
